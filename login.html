<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Giriş Ekranı</title>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

  <style>
    body {
      margin: 0; padding: 0;
      height: 100vh;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f0f0f0;
    }

    .background {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
    }

    .circle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.5;
      animation: float 30s linear infinite;
    }

    .circle:nth-child(1) {
      width: 300px; height: 300px;
      background: radial-gradient(circle, #007bff, #00c3ff);
      left: 10%; top: 20%;
      animation-delay: 0s;
    }

    .circle:nth-child(2) {
      width: 400px; height: 400px;
      background: radial-gradient(circle, #00ff99, #00c3ff);
      left: 70%; top: 40%;
      animation-delay: 10s;
    }

    .circle:nth-child(3) {
      width: 500px; height: 500px;
      background: radial-gradient(circle, #ff00cc, #3333ff);
      left: 40%; top: 70%;
      animation-delay: 20s;
    }

    @keyframes float {
      0% {
        transform: translateY(0) translateX(0) rotate(0deg);
      }
      50% {
        transform: translateY(-50px) translateX(50px) rotate(180deg);
      }
      100% {
        transform: translateY(0) translateX(0) rotate(360deg);
      }
    }

    .login-container {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 80px 60px;
      border-radius: 30px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.3);
      width: 500px;
      max-width: 90vw;
      min-height: 550px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    h2 {
      text-align: center;
      margin-bottom: 36px;
      color: #222;
      font-weight: 700;
      font-size: 2.4rem;
    }

    input[type="email"], input[type="password"] {
      width: 100%;
      padding: 16px 18px;
      margin: 16px 0;
      border-radius: 16px;
      border: 1.5px solid #ccc;
      font-size: 20px;
      box-sizing: border-box;
      transition: border-color 0.3s ease;
      background: rgba(255, 255, 255, 0.8);
    }

    input[type="email"]:focus, input[type="password"]:focus {
      border-color: #007bff;
      outline: none;
      box-shadow: 0 0 5px rgba(0,123,255,0.5);
    }

    button {
      width: 100%;
      padding: 16px;
      margin-top: 22px;
      border-radius: 16px;
      border: none;
      font-size: 22px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      font-weight: 600;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    button:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    .secondary-button {
      margin-top: 16px;
      background: white;
      color: #007bff;
      border: 2px solid #007bff;
      font-weight: 600;
    }

    .secondary-button:hover {
      background: #e6f0ff;
    }

    .options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
      font-size: 16px;
    }

    label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      user-select: none;
    }

    input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .link-button {
      background: none;
      border: none;
      color: #007bff;
      cursor: pointer;
      text-decoration: underline;
      padding: 0;
      font-size: 16px;
    }

    .error-message {
      color: #d32f2f;
      font-size: 16px;
      margin-top: 24px;
      min-height: 24px;
      text-align: center;
      font-weight: 600;
      user-select: none;
    }
  </style>
</head>
<body>

  <div class="background">
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
  </div>

  <div class="login-container" role="main" aria-label="Giriş Ekranı">
    <h2>Giriş Ekranı</h2>

    <input
      type="email"
      id="email"
      placeholder="E-posta"
      autocomplete="username"
      aria-required="true"
      aria-label="E-posta"
    />
    <input
      type="password"
      id="password"
      placeholder="Şifre"
      autocomplete="current-password"
      aria-required="true"
      aria-label="Şifre"
    />

    <div class="options">
      <label for="rememberMe">
        <input type="checkbox" id="rememberMe" />
        Beni hatırla
      </label>
      <button class="link-button" type="button" onclick="forgotPassword()">Şifremi unuttum?</button>
    </div>

    <button type="button" onclick="login()">Giriş Yap</button>
    <button type="button" class="secondary-button" onclick="register()">Kayıt Ol</button>

    <div class="error-message" id="error" aria-live="polite"></div>
  </div>

 <!-- Firebase CDN -->
<script type="module">
  // Firebase modüllerini modern şekilde içeri al
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, setPersistence, browserLocalPersistence, browserSessionPersistence } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

    const firebaseConfig = {
    apiKey: "AIzaSyDNtDVy6ippmcgDlc1UD13F7Epbeti0BUg",
    authDomain: "mobilapp-7a324.firebaseapp.com",
    projectId: "mobilapp-7a324",
    appId: "1:274277984516:web:YOUR_APP_ID_HERE" // Console > Project settings'ten tam App ID'yi ekle!
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.login = async function () {
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value;
    const remember = document.getElementById('rememberMe').checked;
    const errorDiv = document.getElementById('error');
    errorDiv.textContent = "";

    if (!validateEmail(email)) {
      errorDiv.textContent = "Geçersiz e-posta adresi.";
      return;
    }
    if (password.length === 0) {
      errorDiv.textContent = "Şifre boş bırakılamaz.";
      return;
    }

    const persistence = remember ? browserLocalPersistence : browserSessionPersistence;

    try {
      await setPersistence(auth, persistence);
      await signInWithEmailAndPassword(auth, email, password);
      window.location.href = "home.html";
    } catch (error) {
      errorDiv.textContent = "Giriş başarısız: " + error.message;
    }
  };

  window.register = function () {
    window.location.href = "register.html";
  };

  window.forgotPassword = function () {
    window.location.href = "forgot.html";
  };

  window.validateEmail = function (email) {
    const re = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
    return re.test(email);
  };
</script>


</body>
</html>
